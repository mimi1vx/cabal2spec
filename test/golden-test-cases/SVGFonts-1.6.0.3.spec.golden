#
# spec file for package SVGFonts
#
# Copyright (c) 2018 SUSE LINUX GmbH, Nuernberg, Germany.
#
# All modifications and additions to the file contributed by third parties
# remain the property of their copyright owners, unless otherwise agreed
# upon. The license for this file, and modifications and additions to the
# file, is the same license as for the pristine package itself (unless the
# license for the pristine package is not an Open Source License, in which
# case the license is the MIT License). An "Open Source License" is a
# license that conforms to the Open Source Definition (Version 1.9)
# published by the Open Source Initiative.

# Please submit bugfixes or comments via http://bugs.opensuse.org/
#

%global pkg_name SVGFonts

Name:           %{pkg_name}
Version:        1.6.0.3
Release:        0
Summary:        Fonts from the SVG-Font format
Group:          Development/Libraries/Haskell

License:        BSD-3-Clause
Url:            https://hackage.haskell.org/package/%{name}
Source0:        https://hackage.haskell.org/package/%{name}-%{version}/%{name}-%{version}.tar.gz

BuildRequires:  ghc-Cabal-devel
BuildRequires:  ghc-rpm-macros
BuildRequires:  ghc-attoparsec-devel
BuildRequires:  ghc-blaze-markup-devel
BuildRequires:  ghc-blaze-svg-devel
BuildRequires:  ghc-bytestring-devel
BuildRequires:  ghc-cereal-devel
BuildRequires:  ghc-cereal-vector-devel
BuildRequires:  ghc-containers-devel
BuildRequires:  ghc-data-default-class-devel
BuildRequires:  ghc-diagrams-core-devel
BuildRequires:  ghc-diagrams-lib-devel
BuildRequires:  ghc-directory-devel
BuildRequires:  ghc-parsec-devel
BuildRequires:  ghc-split-devel
BuildRequires:  ghc-text-devel
BuildRequires:  ghc-tuple-devel
BuildRequires:  ghc-vector-devel
BuildRequires:  ghc-xml-devel

%description
Native font support for the diagrams framework
(<http://projects.haskell.org/diagrams/>). Note that this package can be used
with any diagrams backend, not just the SVG backend. The SVG-font format is
easy to parse and was therefore chosen for a font library completely written in
Haskell.

You can convert your own font to SVG with <http://fontforge.github.io/>, or use
the included LinLibertine and Bitstream fonts.

Features:

* Complete implementation of the features that Fontforge produces (though not
the complete SVG format)

* Kerning (/i.e./ the two characters in "VA" are closer than the characters in
"VV")

* Unicode

* Ligatures

* An example that shows how to do text boxes with syntax highlighting using
highlighting-kate: <http://hackage.haskell.org/package/highlighting-kate>

XML speed issues can be solved by trimming the svg file to only those
characters that are used (or maybe binary xml one day).

Version 1.0 of this library supports texturing, though this only makes sense in
a diagrams backend that does rasterization in Haskell, such as
diagrams-rasterific.

Example:

> # LANGUAGE NoMonomorphismRestriction # > > import Diagrams.Prelude > import
Diagrams.Backend.Rasterific.CmdLine > import Graphics.SVGFonts > > main =
defaultMain (text' "Hello World") > > text' t = stroke (textSVG t 1) # fc
purple # fillRule EvenOdd > text'' t = stroke (textSVG' (TextOpts lin INSIDE_H
KERN False 1 1) t) # fillRule EvenOdd > text''' t = (textSVG_ (TextOpts lin
INSIDE_H KERN True 1 1) t) # fillRule EvenOdd .


%package -n ghc-%{name}
Summary:        Haskell %{name} library
Group:          System/Libraries

%description -n ghc-%{name}
This package provides the Haskell %{name} shared library.


%package -n ghc-%{name}-devel
Summary:        Haskell %{name} library development files
Group:          Development/Libraries/Haskell
Requires:       ghc-compiler = %{ghc_version}
Requires(post): ghc-compiler = %{ghc_version}
Requires(postun): ghc-compiler = %{ghc_version}
Requires:       ghc-%{name} = %{version}-%{release}

%description -n ghc-%{name}-devel
This package provides the Haskell %{name} library development files.


%prep
%setup -q

%build
%ghc_lib_build

%install
%ghc_lib_install

%post -n ghc-%{name}-devel
%ghc_pkg_recache

%postun -n ghc-%{name}-devel
%ghc_pkg_recache

%files
%doc LICENSE
%doc CHANGES.md README.md
%dir %{_datadir}/%{name}-%{version}
%dir %{_datadir}/%{name}-%{version}/fonts
%{_datadir}/%{name}-%{version}/fonts/*.svg

%files -n ghc-%{name} -f ghc-%{name}.files
%defattr(-,root,root,-)
%doc LICENSE

%files -n ghc-%{name}-devel -f ghc-%{name}-devel.files
%defattr(-,root,root,-)
%doc CHANGES.md README.md

%changelog
